# 正则表达式
> 参考：https://www.wangan.com/wenda/4478
https://zhuanlan.zhihu.com/p/107294963
## 基本语法
### 定义
```javascript
const reg1 = /hi/i; // 字面量
const reg2 = new RegExp('hi', 'i') // //构造函数（参数1：最简单的正则匹配字母hi；参数2：表示匹配时不分大小写）

```

### 常用元字符
<img src="./PICTURES/正则表达式1.png">

- 字符转义：
如果需要查找元字符本身，则需要在元字符之前加 \ 进行转义。
```javascript
var reg=/\./;//匹配一个.
var reg=/\\/;// 匹配一个\
```
- 重复：
量词用于限定它前面表达式匹配的次数，有 *+?{} 等。
```javascript
var reg=/\d\d\d/;//匹配3个数字
var reg=/\d*/;//匹配任意数量数字，可能是0个
var reg=/\d+/;//匹配1个到多个数字
var reg=/\d?/;//匹配0到1个数字
var reg=/\d{3}/;//匹配3个数字
var reg=/\d{3,}/;//匹配3到多个数字
var reg=/\d{3,6}/;//匹配3到6个数字
```

- 字符类
在 [] 的范围中添加字符，在中括号内的元字符不需要进行转义‘-’表示至，它的作用为在括号中任选其一。
```javascript
var reg=/[abc]/;//匹配'a','b','c'其中之一
var reg=/[() +\]/;//匹配'(',')',' ','+','\'其中之一,[]内部不需要转义
var reg=/[0-9a-z]/;//匹配0至9和a至z，即[0123456789abcdefghijklmnopqrstuvwxyz]
var reg=/[0-9][a-z]/;//匹配前一个数字后一个字母的两位字符，区别于上述匹配一位字符
```

- 分支条件

使用 | 把不同规则分隔开，类似条件选择，从左到右依次测试每个条件，满足其中任一条件即可，当满足某个分枝成功后就不再管其它的分支了。
```javascript
var reg=/0\d{2}-\d{8}|0\d{3}-\d{7}/;//匹配固定电话：前3后8或前4后7，即021-12345678或0553-7654321
```


- 分组

使用 () 来包裹子表达式，以便对这部分子表达式整体操作，如重复或后向引用。
```javascript
var reg=/((2[0-4]\d|25[0-5]|[01]?\d\d?)\.){3}(2[0-4]\d|25[0-5]|[01]?\d\d?)/;//匹配IP地址
//意思为：((一个不大于255的数字)+‘.’)整体重复三次+(一个不大于255的数字)
```

- 反义

查找不属于指定类型以外的字符，有 \D\W\S [^] 等，其中 \D 等价于 [^\d] 除数字以外任意字符。
```javascript
var reg=/[^abc]/;//匹配一个不是abc的字符，即除abc以外的任一字符
```

- 后向引用

使用 () 分组匹配的子表达式，将自动拥有一个分组编号，可用于后续重复引用。
```javascript
var reg=/((2[0-4]\d|25[0-5]|[01]?\d\d?)\.){3}\2/;//这里有分组有嵌套，\1代表外层分组（下划线），\2表示内层分组（红色）
```
可以自定义分组编号（即命名）语法为：(?<name>exp) 或 (?’name’exp)，将分组命名为 name，再反向引用时语法为：\k<name>
```javascript
var reg=/((?<name>2[0-4]\d|25[0-5]|[01]?\d\d?)\.){3}\k<name>/;//给分组2命名为name，后续可用该名称来引用
```
还可以忽略当前分组获得自动编号（即隐藏分组），语法为 (?:exp)
```javascript
var reg=/(?:(2[0-4]\d|25[0-5]|[01]?\d\d?)\.){3}\1/;//因为第一个分组被忽略，原来的分组2变为了分组1
```